/** dchart - v0.0.4 - Fri Aug 02 2013 15:24:46
 *  (c) 2013 Christoph KÃ¶rner, office@chaosmail.at, http://chaosmail.at
 *  License: MIT
 */
var __extends=this.__extends||function(a,b){function c(){this.constructor=a}for(var d in b)b.hasOwnProperty(d)&&(a[d]=b[d]);c.prototype=b.prototype,a.prototype=new c},dChart;!function(a){var b=function(){function b(){this.lineStyle=new a.Utils.LineStyle,this.areaStyle=new a.Utils.AreaStyle}return b.prototype.normalize=function(a){a.hasOwnProperty("stroke")&&(this.lineStyle.stroke=a.stroke),a.hasOwnProperty("strokeWidth")&&(this.lineStyle.strokeWidth=parseFloat(a.strokeWidth)),a.hasOwnProperty("strokeOpacity")&&(this.lineStyle.strokeOpacity=parseFloat(a.strokeOpacity)),a.hasOwnProperty("fill")&&(this.areaStyle.fill=a.fill),a.hasOwnProperty("fillOpacity")&&(this.areaStyle.fillOpacity=parseFloat(a.fillOpacity))},b.prototype.map=function(a,b){a.hasOwnProperty(b.stroke)&&(this.lineStyle.stroke=a[b.stroke]),a.hasOwnProperty(b.strokeWidth)&&(this.lineStyle.strokeWidth=parseFloat(a[b.strokeWidth])),a.hasOwnProperty(b.strokeOpacity)&&(this.lineStyle.strokeOpacity=parseFloat(a[b.strokeOpacity])),a.hasOwnProperty(b.fill)&&(this.areaStyle.fill=a[b.fill]),a.hasOwnProperty(b.fillOpacity)&&(this.areaStyle.fillOpacity=parseFloat(a[b.fillOpacity]))},b.prototype.parse=function(b){var c=this;_.map(b.attributes,function(b){return b.nodeName.match(/^stroke$/i)?(c.lineStyle.stroke=a.Utils.Elem.getColor(b),void 0):b.nodeName.match(/^stroke-width$/i)?(c.lineStyle.strokeWidth=a.Utils.Elem.getFloat(b),void 0):b.nodeName.match(/^stroke-opacity$/i)?(c.lineStyle.strokeOpacity=a.Utils.Elem.getFloat(b),void 0):b.nodeName.match(/^fill$/i)?(c.areaStyle.fill=a.Utils.Elem.getColor(b),void 0):b.nodeName.match(/^fill-opacity$/i)?(c.areaStyle.fillOpacity=a.Utils.Elem.getFloat(b),void 0):void 0})},b}();a.Point=b;var c=function(b){function c(a){b.call(this),this.x=a}return __extends(c,b),c.prototype.normalize=function(a){b.prototype.normalize.call(this,a),a.hasOwnProperty("x")?this.x=parseFloat(a.x):a.hasOwnProperty("y")?this.x=parseFloat(a.y):a.hasOwnProperty("val")&&(this.x=parseFloat(a.val)),a.hasOwnProperty("value")&&(this.x=parseFloat(a.value))},c.prototype.map=function(a,c){b.prototype.map.call(this,a,c),a.hasOwnProperty(c.x)&&(this.x=parseFloat(a[c.x]))},c.prototype.parse=function(c){var d=this;b.prototype.parse.call(this,c),_.map(c.attributes,function(b){return b.nodeName.match(/^x$/i)?(d.x=a.Utils.Elem.getFloat(b),void 0):b.nodeName.match(/^y|val|value$/i)?(d.x=a.Utils.Elem.getFloat(b),void 0):void 0})},c}(b);a.Point1D=c;var d=function(a){function b(b,c){a.call(this),this.x=b,this.y=c}return __extends(b,a),b.prototype.normalize=function(b){a.prototype.normalize.call(this,b),b.hasOwnProperty("x")&&(this.x=parseFloat(b.x)),b.hasOwnProperty("y")?this.y=parseFloat(b.y):b.hasOwnProperty("val")&&(this.y=parseFloat(b.val)),b.hasOwnProperty("value")&&(this.y=parseFloat(b.value))},b.prototype.map=function(b,c){a.prototype.map.call(this,b,c),b.hasOwnProperty(c.x)&&(this.x=parseFloat(b[c.x])),b.hasOwnProperty(c.y)&&(this.y=parseFloat(b[c.y]))},b.prototype.parse=function(b){var c=this;a.prototype.parse.call(this,b),_.map(b.attributes,function(a){return a.nodeName.match(/^x$/i)?(c.x=parseFloat(a.nodeValue),void 0):a.nodeName.match(/^y|val|value$/i)?(c.y=parseFloat(a.nodeValue),void 0):void 0})},b}(b);a.Point2D=d;var e=function(b){function c(a,c){b.call(this),this.t=a,this.y=c}return __extends(c,b),c.prototype.normalize=function(a){b.prototype.normalize.call(this,a),a.hasOwnProperty("x")?this.t=new Date(a.x):a.hasOwnProperty("t")?this.t=new Date(a.t):a.hasOwnProperty("time")?this.t=new Date(a.time):a.hasOwnProperty("date")&&(this.t=new Date(a.date)),a.hasOwnProperty("y")?this.y=parseFloat(a.y):a.hasOwnProperty("val")&&(this.y=parseFloat(a.val)),a.hasOwnProperty("value")&&(this.y=parseFloat(a.value))},c.prototype.map=function(a,c){b.prototype.map.call(this,a,c),a.hasOwnProperty(c.t)&&(this.t=new Date(a[c.t])),a.hasOwnProperty(c.y)&&(this.y=parseFloat(a[c.y]))},c.prototype.parse=function(c){var d=this;b.prototype.parse.call(this,c),_.map(c.attributes,function(b){return b.nodeName.match(/^x|t|time|date$/i)?(d.t=a.Utils.Elem.getDate(b),void 0):b.nodeName.match(/^y|val|value$/i)?(d.y=a.Utils.Elem.getFloat(b),void 0):void 0})},c}(b);a.Point2DTime=e;var f=function(a){function b(b,c,d){a.call(this),this.x=b,this.y=c,this.z=d}return __extends(b,a),b.prototype.normalize=function(b){a.prototype.normalize.call(this,b),b.hasOwnProperty("x")&&(this.x=parseFloat(b.x)),b.hasOwnProperty("y")&&(this.y=parseFloat(b.y)),b.hasOwnProperty("z")&&(this.z=parseFloat(b.z))},b.prototype.map=function(b,c){a.prototype.map.call(this,b,c),b.hasOwnProperty(c.x)&&(this.x=parseFloat(b[c.x])),b.hasOwnProperty(c.y)&&(this.y=parseFloat(b[c.y])),b.hasOwnProperty(c.z)&&(this.z=parseFloat(b[c.z]))},b.prototype.parse=function(b){var c=this;a.prototype.parse.call(this,b),_.map(b.attributes,function(a){return a.nodeName.match(/^x$/i)?(c.x=parseFloat(a.nodeValue),void 0):a.nodeName.match(/^y$/i)?(c.y=parseFloat(a.nodeValue),void 0):a.nodeName.match(/^z$/i)?(c.z=parseFloat(a.nodeValue),void 0):void 0})},b}(b);a.Point3D=f;var g=function(a){function b(b,c,d){a.call(this),this.t=b,this.y=c,this.z=d}return __extends(b,a),b.prototype.normalize=function(b){a.prototype.normalize.call(this,b),b.hasOwnProperty("x")?this.t=new Date(b.x):b.hasOwnProperty("t")?this.t=new Date(b.t):b.hasOwnProperty("time")?this.t=new Date(b.time):b.hasOwnProperty("date")&&(this.t=new Date(b.date)),b.hasOwnProperty("y")&&(this.y=parseFloat(b.y)),b.hasOwnProperty("z")&&(this.z=parseFloat(b.z))},b.prototype.map=function(b,c){a.prototype.map.call(this,b,c),b.hasOwnProperty(c.t)&&(this.t=new Date(b[c.t])),b.hasOwnProperty(c.y)&&(this.y=parseFloat(b[c.y])),b.hasOwnProperty(c.z)&&(this.z=parseFloat(b[c.z]))},b.prototype.parse=function(b){var c=this;a.prototype.parse.call(this,b),_.map(b.attributes,function(a){return a.nodeName.match(/^x|t|time|date$/i)?(c.t=new Date(a.nodeValue),void 0):a.nodeName.match(/^y$/i)?(c.y=parseFloat(a.nodeValue),void 0):a.nodeName.match(/^z$/i)?(c.z=parseFloat(a.nodeValue),void 0):void 0})},b}(b);a.Point3DTime=g}(dChart||(dChart={}));var dChart;!function(a){!function(a){var b=function(){function a(){this.stroke="red",this.strokeWidth=1,this.strokeOpacity=1,this.strokeLinecap="butt",this.strokeDasharray="0"}return a.prototype.normalize=function(a){a.hasOwnProperty("stroke")&&(this.stroke=a.stroke),a.hasOwnProperty("strokeWidth")&&(this.strokeWidth=parseFloat(a.strokeWidth)),a.hasOwnProperty("strokeOpacity")&&(this.strokeOpacity=parseFloat(a.strokeOpacity)),a.hasOwnProperty("strokeLinecap")&&(this.strokeLinecap=a.strokeLinecap),a.hasOwnProperty("strokeDasharray")&&(this.strokeDasharray=a.strokeDasharray)},a}();a.LineStyle=b;var c=function(a){function b(){a.apply(this,arguments),this.fill="blue",this.fillOpacity=1}return __extends(b,a),b.prototype.normalize=function(b){a.prototype.normalize.call(this,b),b.hasOwnProperty("fill")&&(this.fill=b.fill),b.hasOwnProperty("fillOpacity")&&(this.fillOpacity=parseFloat(b.fillOpacity))},b}(b);a.AreaStyle=c;var d=function(a){function b(){a.apply(this,arguments),this.fontFamily="sans-serif",this.fontSize=11,this.fontWeight="normal"}return __extends(b,a),b.prototype.normalize=function(b){a.prototype.normalize.call(this,b),b.hasOwnProperty("fontFamily")&&(this.fontFamily=b.fontFamily),b.hasOwnProperty("fontWeight")&&(this.fontWeight=b.fontWeight),b.hasOwnProperty("fontSize")&&(this.fontSize=parseFloat(b.fontSize))},b}(c);a.FontStyle=d}(a.Utils||(a.Utils={})),a.Utils}(dChart||(dChart={}));var dChart;!function(a){var b=function(){function b(){this.gridStyle=new a.Utils.LineStyle,this.labelOffset=34,this.range=[0,1],this.domain=[0,1],this.autorange=!0,this.showGrid=!1,this.scale="linear",this.length=1,this.height=1,this.orientation="x",this.align="start",this.labelAlign="end",this.ticks=10,this.tickSubdivide=!1,this.visible=!0,this.gridStyle.stroke="black",this.gridStyle.strokeWidth=1,this.gridStyle.strokeOpacity=.25}return b.prototype.addScaleFn=function(a,b){this.scale[a]&&"function"==typeof this.scale[a]&&this.scale[a](b)},b.prototype.setOrientation=function(a){return"undefined"==typeof a&&(a="x"),this.orientation=a.match(/^y|v|vertical$/i)?"y":a.match(/^z$/i)?"z":"x",this},b.prototype.setDomain=function(a){return this.domain=a,this},b.prototype.setRange=function(a){return this.range=a,this},b.prototype.setAlign=function(a){return this.align=a.match(/^top|left|start$/i)?"start":a.match(/^bottom|right|end$/i)?"end":"middle",this},b.prototype.setLabelAlign=function(a){return this.labelAlign=a.match(/^top|left|start$/i)?"start":a.match(/^bottom|right|end$/i)?"end":"middle",this},b.prototype.getScale=function(){var a=this.scale.match(/^identity$/i)?d3.scale.identity():this.scale.match(/^pow|power$/i)?d3.scale.pow():this.scale.match(/^sqrt$/)?d3.scale.sqrt():this.scale.match(/^log$/)?d3.scale.log():this.scale.match(/^quantize/)?d3.scale.quantize():this.scale.match(/^quantile$/)?d3.scale.quantile():this.scale.match(/^treshold$/)?d3.scale.treshold():d3.scale.linear();return a.domain(this.domain).range(this.range),a},b.prototype.getAxis=function(){var a="top";"x"===this.orientation&&(a="start"===this.align?"top":"bottom"),"y"===this.orientation&&(a="end"===this.align?"right":"left");var b=d3.svg.axis().scale(this.getScale()).orient(a).ticks(this.ticks);return this.showGrid&&b.tickSize(-this.height,0,3),b},b.prototype.clear=function(){this.svg&&this.svg.remove()},b.prototype.draw=function(a,b,c){this.clear(),this.svg=a.append("g").attr("class","dchart-axis dchart-axis-"+this.orientation),this.svgLabel=a.append("g").attr("class","dchart-axis-label dchart-axis-"+this.orientation+"-label").append("text"),this.redraw(b,c)},b.prototype.redraw=function(a,b){"undefined"==typeof a&&(a=0),"undefined"==typeof b&&(b=1);var c=this;this.autorange===!0&&this.setDomain([a,b]),this.svg.call(this.getAxis()),this.svg.selectAll(".tick line").style("fill","none").style("stroke",function(a,b){return b>0?c.gridStyle.stroke:"black"}).style("stroke-width",function(a,b){return b>0?c.gridStyle.strokeWidth:1}).style("stroke-opacity",function(a,b){return b>0?c.gridStyle.strokeOpacity:1}).style("stroke-linecap",function(a,b){return b>0?c.gridStyle.strokeLinecap:"butt"}).style("stroke-dasharray",function(a,b){return b>0?c.gridStyle.strokeDasharray:"0"}),this.svgLabel.text(this.label),this.svg.selectAll("path").style("stroke",this.gridStyle.stroke).style("shape-rendering","crispEdges").style("fill","none"),this.svg.selectAll("line").style("stroke",this.gridStyle.stroke).style("shape-rendering","crispEdges").style("fill","none")},b.prototype.normalize=function(b){if(b.hasOwnProperty("label")&&(this.label=b.label),b.hasOwnProperty("align")&&this.setAlign(b.align),b.hasOwnProperty("labelAlign")&&this.setLabelAlign(b.labelAlign),b.hasOwnProperty("labelOffset")&&(this.labelOffset=parseInt(b.labelOffset,10)),b.hasOwnProperty("autorange")&&(this.autorange=b.autorange),b.hasOwnProperty("grid")&&(this.showGrid=b.grid),b.hasOwnProperty("gridStyle")){var c=new a.Utils.LineStyle;c.normalize(b.gridStyle),this.gridStyle=c,this.showGrid=!0}b.hasOwnProperty("ticks")&&(this.ticks=parseInt(b.ticks,10)),b.hasOwnProperty("scale")&&(this.scale=b.scale),b.hasOwnProperty("range")&&(this.setDomain(b.range),this.autorange=!1)},b}();a.Axis=b;var c=function(a){function b(){a.call(this),this.orientation="x",this.setAlign("bottom"),this.setLabelAlign("right")}return __extends(b,a),b.prototype.redraw=function(b,c){"undefined"==typeof b&&(b=0),"undefined"==typeof c&&(c=1);var d="middle"===this.align?.5*this.height:"start"===this.align?0:this.height,e="middle"===this.labelAlign?.5*this.length:"start"===this.labelAlign?0:this.length;this.svg.attr("transform","translate(0,"+d+")"),this.svgLabel.attr("x",e).attr("y",this.height+this.labelOffset).attr("text-anchor",this.labelAlign),this.setRange([0,this.length]),a.prototype.redraw.call(this,b,c)},b}(b);a.xAxis=c;var d=function(a){function b(){a.call(this),this.orientation="y",this.setAlign("left"),this.setLabelAlign("top")}return __extends(b,a),b.prototype.redraw=function(b,c){"undefined"==typeof b&&(b=0),"undefined"==typeof c&&(c=1);var d="middle"===this.align?.5*this.height:"start"===this.align?0:this.height,e="middle"===this.labelAlign?.5*this.length:"start"===this.labelAlign?0:this.length,f="start"===this.labelAlign?"end":"end"===this.labelAlign?"start":"middle";this.svg.attr("transform","translate("+d+",0)"),this.svgLabel.attr("x",-e).attr("y",-this.labelOffset).attr("transform","rotate(-90)").attr("text-anchor",f),this.setRange([this.length,0]),a.prototype.redraw.call(this,b,c)},b}(b);a.yAxis=d;var e=function(a){function b(){a.apply(this,arguments),this.orientation="z"}return __extends(b,a),b}(b);a.zAxis=e}(dChart||(dChart={}));var dChart;!function(a){!function(a){var b=function(){function a(){}return a.getFloat=function(a){return parseFloat(a.nodeValue)},a.getColor=function(a){return a.nodeValue},a.getDate=function(a){return new Date(a.nodeValue)},a}();a.Elem=b}(a.Utils||(a.Utils={})),a.Utils}(dChart||(dChart={}));var dChart;!function(a){!function(a){var b=function(){function a(){this.min=0,this.max=10,this.step=1}return a.prototype.solve=function(){var a=[];return a},a.prototype.normalize=function(a){a.hasOwnProperty("min")&&(this.min=parseFloat(a.min)),a.hasOwnProperty("max")&&(this.max=parseFloat(a.max)),a.hasOwnProperty("min")&&(this.step=parseFloat(a.step)),a.hasOwnProperty("fn")&&"function"==typeof a.fn&&(this.fn=a.fn)},a}();a.Solver=b;var c=function(a){function b(){a.apply(this,arguments)}return __extends(b,a),b.prototype.solve=function(a,b,c){this.min=a||this.min,this.max=b||this.max,this.step=c||this.step;var d,e=[];if("function"!=typeof this.fn)return e;for(d=this.min;d<=this.max;d+=this.step)e.push({x:d,y:this.fn(d)});return e},b}(b);a.Solver2D=c}(a.Utils||(a.Utils={})),a.Utils}(dChart||(dChart={}));var dChart;!function(a){!function(a){var b=function(){function a(){this.url="",this.dataType="json",this.map={}}return a.prototype.getData=function(a){var b=this;d3.json(this.url,function(c){a(c,b.map)})},a.prototype.normalize=function(a){a.hasOwnProperty("url")&&(this.url=a.url),a.hasOwnProperty("dataType")&&(this.dataType=a.dataType),a.hasOwnProperty("map")&&(this.map=a.map)},a}();a.Loader=b}(a.Utils||(a.Utils={})),a.Utils}(dChart||(dChart={}));var dChart;!function(a){var b=function(){function b(b){this.chart=b,this.showLine=!0,this.showArea=!1,this.showDot=!1,this.dotRadius=3,this.data=[],this.label="",this.interpolate="linear",this.visible=!0,this.lineStyle=new a.Utils.LineStyle,this.areaStyle=new a.Utils.AreaStyle,this.dotStyle=new a.Utils.AreaStyle}return b.prototype.parse=function(b){var c=this;_.map(b.attributes,function(b){return b.nodeName.match(/^label$/i)?(c.label=b.nodeValue,void 0):b.nodeName.match(/^interpolate$/i)?(c.interpolate=b.nodeValue,void 0):b.nodeName.match(/^stroke$/i)?(c.lineStyle.stroke=a.Utils.Elem.getColor(b),void 0):b.nodeName.match(/^stroke-width$/i)?(c.lineStyle.strokeWidth=parseFloat(b.nodeValue),void 0):b.nodeName.match(/^stroke-opacity$/i)?(c.lineStyle.strokeOpacity=parseFloat(b.nodeValue),void 0):b.nodeName.match(/^fill$/i)?(c.areaStyle.fill=a.Utils.Elem.getColor(b),void 0):b.nodeName.match(/^fill-opacity$/i)?(c.areaStyle.fillOpacity=parseFloat(b.nodeValue),void 0):void 0})},b.prototype.normalize=function(b){var c=this;if(b.hasOwnProperty("interpolate")&&(this.interpolate=b.interpolate),b.hasOwnProperty("dotStyle")){var d=new a.Utils.AreaStyle;d.normalize(b.dotStyle),this.dotStyle=d,this.showDot=!0}if(b.hasOwnProperty("lineStyle")){var e=new a.Utils.LineStyle;e.normalize(b.lineStyle),this.lineStyle=e,this.showLine=!0}if(b.hasOwnProperty("areaStyle")){var d=new a.Utils.AreaStyle;d.normalize(b.areaStyle),this.areaStyle=d,this.showArea=!0}if(b.hasOwnProperty("dot")&&(this.showDot=b.showDots),b.hasOwnProperty("line")&&(this.showLine=b.showLine),b.hasOwnProperty("area")&&(this.showArea=b.showArea),b.hasOwnProperty("dotRadius")&&(this.dotRadius=b.dotRadius),b.hasOwnProperty("data")&&"object"==typeof b.data&&_.map(b.data,function(a){var b=c.chart.getPoint();b.normalize(a),c.data.push(b)}),b.hasOwnProperty("dataFn")){var f=this.chart.getSolver();f.normalize(b.dataFn);var g=f.solve();_.map(g,function(a){var b=c.chart.getPoint();b.normalize(a),c.data.push(b)})}if(b.hasOwnProperty("dataSrc")){var h=new a.Utils.Loader;h.normalize(b.dataSrc),h.getData(function(a,b){_.map(a,function(a){var d=c.chart.getPoint();d.map(a,b),c.data.push(d)}),c.chart.redraw()})}},b.prototype.min=function(a){return d3.min(this.data,function(b){return b[a]})},b.prototype.max=function(a){return d3.max(this.data,function(b){return b[a]})},b}();a.DataSet=b}(dChart||(dChart={}));var dChart;!function(a){var b=function(){function b(){this.marginLeft=50,this.marginRight=10,this.marginTop=10,this.marginBottom=80,this.width=400,this.height=400,this.nettoWidth=340,this.nettoHeight=310,this.fontStyle=new a.Utils.FontStyle}return b.prototype.clear=function(){this.svg&&this.svg.remove()},b.prototype.getPoint=function(){return new a.Point},b.prototype.getSolver=function(){return new a.Utils.Solver},b.prototype.redraw=function(){this.svg.attr("width",this.width).attr("height",this.height),this.container.attr("width",this.nettoWidth).attr("height",this.nettoHeight).attr("transform","translate("+this.marginLeft+", "+this.marginTop+")"),this.svgDescription.text(this.description).attr("x",.5*this.nettoWidth).attr("y",this.nettoHeight+this.marginBottom-5).attr("text-anchor","middle"),this.svgLabel.text(this.label).attr("x",.5*this.nettoWidth).attr("y",this.nettoHeight+this.marginBottom-20).attr("text-anchor","middle"),this.redrawAxis(),this.redrawData(),this.container.selectAll("text").style("font-family",this.fontStyle.fontFamily).style("font-size",this.fontStyle.fontSize).style("font-weight",this.fontStyle.fontWeight),this.svgLabel.style("font-size",this.fontStyle.fontSize+2).style("font-weight","bold")},b.prototype.draw=function(){this.clear(),this.svg=d3.select(this.elem).append("svg").attr("id","dchart-"+this.elemId),this.container=this.svg.append("g").attr("class","dchart-container"),this.axisContainer=this.container.append("g").attr("class","dchart-container-axis"),this.dataContainer=this.container.append("g").attr("class","dchart-container-data"),this.svgLabel=this.container.append("g").attr("class","dchart-container-label").append("text"),this.svgDescription=this.container.append("g").attr("class","dchart-container-description").append("text"),this.drawAxis(),this.drawData(),this.redraw()},b.prototype.drawAxis=function(){},b.prototype.redrawAxis=function(){},b.prototype.drawData=function(){},b.prototype.redrawData=function(){},b.prototype.normalize=function(b){if(b.hasOwnProperty("elem")&&(this.elemId=b.elem,this.elem=document.getElementById(b.elem)),b.hasOwnProperty("label")&&(this.label=b.label),b.hasOwnProperty("description")&&(this.description=b.description),b.hasOwnProperty("width")&&(this.width=parseFloat(b.width)),b.hasOwnProperty("height")&&(this.height=parseFloat(b.height)),b.hasOwnProperty("marginTop")&&(this.marginTop=parseFloat(b.marginTop)),b.hasOwnProperty("marginLeft")&&(this.marginLeft=parseFloat(b.marginLeft)),b.hasOwnProperty("marginBottom")&&(this.marginBottom=parseFloat(b.marginBottom)),b.hasOwnProperty("marginRight")&&(this.marginRight=parseFloat(b.marginRight)),b.hasOwnProperty("fontStyle")){var c=new a.Utils.FontStyle;c.normalize(b.fontStyle),this.fontStyle=c}},b}();a.Chart=b;var c=function(b){function c(){b.apply(this,arguments),this.dataSets=[],this.xAxis=new a.xAxis,this.yAxis=new a.yAxis}return __extends(c,b),c.prototype.getPoint=function(){return new a.Point2D},c.prototype.getSolver=function(){return new a.Utils.Solver2D},c.prototype.redraw=function(){this.nettoWidth=this.width-this.marginLeft-this.marginRight,this.nettoHeight=this.height-this.marginTop-this.marginBottom,this.xAxis.length=this.nettoWidth,this.xAxis.height=this.nettoHeight,this.yAxis.length=this.nettoHeight,this.yAxis.height=this.nettoWidth,b.prototype.redraw.call(this)},c.prototype.drawAxis=function(){var a=[this.min("x"),this.min("y")],b=[this.max("x"),this.max("y")];this.xAxis.draw(this.axisContainer,a[0],b[0]),this.yAxis.draw(this.axisContainer,a[1],b[1])},c.prototype.redrawAxis=function(){var a=[this.min("x"),this.min("y")],b=[this.max("x"),this.max("y")];this.xAxis.redraw(a[0],b[0]),this.yAxis.redraw(a[1],b[1])},c.prototype.drawData=function(){},c.prototype.redrawData=function(){},c.prototype.min=function(a){return"undefined"==typeof a&&(a="x"),d3.min(this.dataSets,function(b){return b.min(a)})},c.prototype.max=function(a){return"undefined"==typeof a&&(a="x"),d3.max(this.dataSets,function(b){return b.max(a)})},c.prototype.normalize=function(c){var d=this;if(b.prototype.normalize.call(this,c),c.hasOwnProperty("dataSets")&&(this.dataSets=[],_.map(c.dataSets,function(b){var c=new a.DataSet(d);c.normalize(b),d.dataSets.push(c)})),c.hasOwnProperty("axis")){var e=c.axis;e.hasOwnProperty("x")&&this.xAxis.normalize(e.x),e.hasOwnProperty("y")&&this.yAxis.normalize(e.y)}},c}(b);a.Chart2D=c;var d=function(b){function c(){b.apply(this,arguments),this.dataSets=[],this.depth=400,this.xAxis=new a.xAxis,this.yAxis=new a.yAxis,this.zAxis=new a.zAxis}return __extends(c,b),c.prototype.getPoint=function(){return new a.Point3D},c.prototype.drawAxis=function(){var a=[this.min("x"),this.min("y"),this.min("z")],b=[this.max("x"),this.max("y"),this.min("z")];this.xAxis.draw(this.axisContainer,a[0],b[0]),this.yAxis.draw(this.axisContainer,a[1],b[1]),this.zAxis.draw(this.axisContainer,a[2],b[2])},c.prototype.redrawAxis=function(){var a=[this.min("x"),this.min("y"),this.min("z")],b=[this.max("x"),this.max("y"),this.min("z")];this.xAxis.redraw(a[0],b[0]),this.yAxis.redraw(a[1],b[1]),this.zAxis.redraw(a[2],b[2])},c.prototype.drawData=function(){},c.prototype.redrawData=function(){},c.prototype.min=function(a){return"undefined"==typeof a&&(a="x"),d3.min(this.dataSets,function(b){return b.min(a)})},c.prototype.max=function(a){return"undefined"==typeof a&&(a="x"),d3.max(this.dataSets,function(b){return b.max(a)})},c.prototype.normalize=function(c){var d=this;if(b.prototype.normalize.call(this,c),c.hasOwnProperty("dataSets")&&(this.dataSets=[],_.map(c.dataSets,function(b){var c=new a.DataSet(d);c.normalize(b),d.dataSets.push(c)})),c.hasOwnProperty("axis")){var e=c.axis;e.hasOwnProperty("x")&&this.xAxis.normalize(e.x),e.hasOwnProperty("y")&&this.yAxis.normalize(e.y),e.hasOwnProperty("z")&&this.zAxis.normalize(e.z)}this.nettoWidth=this.width-this.marginLeft-this.marginRight,this.nettoHeight=this.height-this.marginTop-this.marginBottom,this.xAxis.length=this.nettoWidth,this.xAxis.height=this.nettoHeight,this.yAxis.length=this.nettoHeight,this.yAxis.height=this.nettoWidth,this.zAxis.length=this.depth,this.zAxis.height=this.depth},c}(b);a.Chart3D=d;var e=function(a){function b(b){a.call(this),this.svgLineContainer=[],this.svgLine=[],b&&(this.normalize(b),this.draw()),console.log(this)}return __extends(b,a),b.prototype.drawData=function(){var a=this;_.map(this.dataSets,function(b,c){a.svgLineContainer[c]=a.dataContainer.append("g").attr("class","dchart-data-set dchart-data-set-"+c),a.svgLine[c]=a.svgLineContainer[c].append("path")})},b.prototype.redrawData=function(){var a=this,b=this.xAxis.getScale(),c=this.yAxis.getScale(),d=[];_.map(this.dataSets,function(e,f){if(e.showLine&&(d[f]=d3.svg.line().interpolate(e.interpolate).x(function(a){return b(a.x)}).y(function(a){return c(a.y)}),a.svgLine[f].attr("d",d[f](e.data)).style("stroke",e.lineStyle.stroke).style("stroke-width",e.lineStyle.strokeWidth).style("stroke-opacity",e.lineStyle.strokeOpacity).style("stroke-linecap",e.lineStyle.strokeLinecap).style("stroke-dasharray",e.lineStyle.strokeDasharray).style("fill","none")),e.showDot){var g=a.svgLineContainer[f].selectAll("circle").data(e.data,function(a){return a.x});g.exit().remove(),g.enter().append("circle").style("stroke",e.dotStyle.stroke).style("stroke-width",e.dotStyle.strokeWidth).style("stroke-opacity",e.dotStyle.strokeOpacity).style("stroke-linecap",e.dotStyle.strokeLinecap).style("stroke-dasharray",e.dotStyle.strokeDasharray).style("fill",e.dotStyle.fill).style("fill-opacity",e.dotStyle.fillOpacity).attr("cx",function(a){return b(a.x)}).attr("cy",function(a){return c(a.y)}).attr("r",function(){return e.dotRadius})}})},b}(c);a.LineChart=e;var f=function(a){function b(b){a.call(this),this.svgRectContainer=[],b&&(this.normalize(b),this.draw()),console.log(this)}return __extends(b,a),b.prototype.drawData=function(){var a=this;_.map(this.dataSets,function(b,c){a.svgRectContainer[c]=a.dataContainer.append("g").attr("class","dchart-data-set dchart-data-set-"+c)})},b.prototype.redrawData=function(){var a=this,b=this.xAxis.getScale(),c=this.yAxis.getScale();_.map(this.dataSets,function(d,e){var f=a.svgRectContainer[e].selectAll("rect").data(d.data,function(a){return a.x});if(0!==d.data.length){var g=a.xAxis.svg.selectAll(".tick"),h=g[0].length,i=.5*(a.nettoWidth/(h+1)),j=a.nettoWidth/(h+1)/a.dataSets.length;f.exit().remove(),f.enter().append("rect").style("stroke",d.areaStyle.stroke).style("stroke-width",d.areaStyle.strokeWidth).style("stroke-opacity",d.areaStyle.strokeOpacity).style("stroke-linecap",d.areaStyle.strokeLinecap).style("stroke-dasharray",d.areaStyle.strokeDasharray).style("fill",d.areaStyle.fill).style("fill-opacity",d.areaStyle.fillOpacity).attr("x",function(a){return b(a.x)-i+e*j}).attr("y",function(b){return a.nettoHeight-c(b.y)}).attr("width",function(){return j}).attr("height",function(a){return c(a.y)})}})},b}(c);a.HistoChart=f}(dChart||(dChart={}));